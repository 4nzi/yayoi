!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.Yayoi=r():t.Yayoi=r()}(self,(()=>(()=>{"use strict";var t={854:(t,r,e)=>{e.r(r),e.d(r,{default:()=>i});const i="#version 300 es\r\nprecision mediump float;\r\n\r\nout vec4 outColor;\r\n\r\nvoid main(void){\r\n        vec4 color   = vec4(0.6, 0.6, 1, 1.0);\r\n        outColor = color;\r\n}"},875:(t,r,e)=>{e.r(r),e.d(r,{default:()=>i});const i="#version 300 es\r\n\r\nlayout (location = 0) in vec3 position;\r\n\r\nuniform mat4 mMatrix;\r\nuniform mat4 vMatrix;\r\nuniform mat4 pMatrix;\r\n\r\nvoid main(void){\r\n    gl_Position    = pMatrix * vMatrix * mMatrix * vec4(position, 1.0);\r\n}"},225:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.CameraController=r.Camera=void 0;const i=e(950),a=new(e(458).matIV);class s{constructor(t,r=40,e=.1,n=100){this.pMatrix=a.identity(a.create()),this.vMatrix=a.identity(a.create()),this.transform=new i.default,this.mode=s.MODE_ORBIT,a.perspective(r,t.canvas.width/t.canvas.height,e,n,this.pMatrix)}panX(t){this.mode!=s.MODE_ORBIT&&(this.updateViewMatrix(),this.transform.position[0]+=this.transform.right[12]*t,this.transform.position[1]+=this.transform.right[13]*t,this.transform.position[2]+=this.transform.right[14]*t)}panY(t){this.updateViewMatrix(),this.transform.position[1]+=this.transform.up[13]*t,this.mode!=s.MODE_ORBIT&&(this.transform.position[0]+=this.transform.up[12]*t,this.transform.position[2]+=this.transform.up[14]*t)}panZ(t){this.updateViewMatrix(),this.mode==s.MODE_ORBIT?this.transform.position[2]+=t:(this.transform.position[0]+=this.transform.forward[12]*t,this.transform.position[1]+=this.transform.forward[13]*t,this.transform.position[2]+=this.transform.forward[14]*t)}updateViewMatrix(){return this.mode==s.MODE_FREE?(a.identity(this.transform.matrix),a.translate(this.transform.matrix,this.transform.position,this.transform.matrix),a.rotate(this.transform.matrix,this.transform.rotation[0]*i.default.deg2Rad,[1,0,0],this.transform.matrix),a.rotate(this.transform.matrix,this.transform.rotation[1]*i.default.deg2Rad,[0,1,0],this.transform.matrix)):(a.identity(this.transform.matrix),a.rotate(this.transform.matrix,this.transform.rotation[0]*i.default.deg2Rad,[1,0,0],this.transform.matrix),a.rotate(this.transform.matrix,this.transform.rotation[1]*i.default.deg2Rad,[0,1,0],this.transform.matrix),a.translate(this.transform.matrix,this.transform.position,this.transform.matrix)),this.transform.updateDirection(),a.inverse(this.transform.matrix,this.vMatrix),this.vMatrix}}r.Camera=s,s.MODE_FREE=0,s.MODE_ORBIT=1,r.CameraController=class{constructor(t,r){let e=this,i=t.canvas.getBoundingClientRect();this.canvas=t.canvas,this.camera=r,this.rotateRate=-300,this.panRate=5,this.zoomRate=200,this.offsetX=i.left,this.offsetY=i.top,this.initX=0,this.initY=0,this.prevX=0,this.prevY=0,this.onUpHandler=function(t){e.onMouseUp(t)},this.onMoveHandler=function(t){e.onMouseMove(t)},this.canvas.addEventListener("mousedown",(function(t){e.onMouseDown(t)})),this.canvas.addEventListener("mousewheel",(function(t){e.onMouseWheel(t)}))}getMouseVec2(t){return{x:t.pageX-this.offsetX,y:t.pageY-this.offsetY}}onMouseDown(t){this.initX=this.prevX=t.pageX-this.offsetX,this.initY=this.prevY=t.pageY-this.offsetY,this.canvas.addEventListener("mouseup",this.onUpHandler),this.canvas.addEventListener("mousemove",this.onMoveHandler)}onMouseUp(t){this.canvas.removeEventListener("mouseup",this.onUpHandler),this.canvas.removeEventListener("mousemove",this.onMoveHandler)}onMouseWheel(t){var r=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));this.camera.panZ(r*(this.zoomRate/this.canvas.height))}onMouseMove(t){var r=t.pageX-this.offsetX,e=t.pageY-this.offsetY,i=r-this.prevX,a=e-this.prevY;t.shiftKey?(this.camera.panX(-i*(this.panRate/this.canvas.width)),this.camera.panY(a*(this.panRate/this.canvas.height))):(this.camera.transform.rotation[1]+=i*(this.rotateRate/this.canvas.width),this.camera.transform.rotation[0]+=a*(this.rotateRate/this.canvas.height)),this.prevX=r,this.prevY=e}}},453:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=e(560),a=e(950);r.default=class{constructor(t,r){this.gl=r,this.attribute=t.attribute,this.vao=(0,i.default)(this.gl).createVAO(this.attribute.pos,this.attribute.inx),this.transform=new a.default,this.shaderIdx=-1}setShader(t){this.shaderIdx=t}setScale(t,r,e){return this.transform.scale=[t,r,e],this}setPosition(t,r,e){return this.transform.position=[t,r,e],this}setRotation(t,r,e){return this.transform.rotation=[t,r,e],this}addScale(t,r,e){return this.transform.scale[0]+=t,this.transform.scale[1]+=r,this.transform.scale[2]+=e,this}addPosition(t,r,e){return this.transform.position[0]+=t,this.transform.position[1]+=r,this.transform.position[2]+=e,this}addRotation(t,r,e){return this.transform.rotation[0]+=t,this.transform.rotation[1]+=r,this.transform.rotation[2]+=e,this}preRender(){return this.transform.updateMatrix(),this}}},817:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(t,r=30){let e=this;this.msLastFrame=null,this.callBack=t,this.isActive=!1,this.fps=0,this.msFpsLimit=1e3/r,this.run=()=>{let t=performance.now(),r=t-e.msLastFrame,i=r/1e3;r>=e.msFpsLimit&&(e.fps=Math.floor(1/i),e.msLastFrame=t,e.callBack(i)),e.isActive&&requestAnimationFrame(e.run)}}start(){return this.isActive=!0,this.msLastFrame=performance.now(),requestAnimationFrame(this.run),this}stop(){this.isActive=!1}}},297:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Shader=void 0;const i=e(560);r.Shader=class{constructor(t,r,e){this.program=(0,i.default)(t).createProgramShader(r,e),this.gl=t,t.useProgram(this.program),this.attLocation=(0,i.default)(t).getStandardAttLocations(this.program),this.uniLocation=(0,i.default)(t).getStandardUniLocations(this.program),this.texLocation={}}activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}setMmatrix(t){return this.gl.uniformMatrix4fv(this.uniLocation.mMatrix,!1,t),this}setVmatrix(t){return this.gl.uniformMatrix4fv(this.uniLocation.vMatrix,!1,t),this}setPmatrix(t){return this.gl.uniformMatrix4fv(this.uniLocation.pMatrix,!1,t),this}setInvMatrix(t){return this.gl.uniformMatrix4fv(this.uniLocation.invMatrix,!1,t),this}preRender(){}renderModel(t){return this.setMmatrix(t.transform.getMatrix()),this.setInvMatrix(t.transform.getInvMatrix()),this.gl.bindVertexArray(t.vao),this.gl.drawElements(this.gl.TRIANGLES,t.attribute.inx.length,this.gl.UNSIGNED_SHORT,0),this.gl.bindVertexArray(null),this}}},950:(t,r,e)=>{Object.defineProperty(r,"__esModule",{value:!0});const i=new(e(458).matIV);class a{constructor(){this.position=[0,0,0],this.scale=[1,1,1],this.rotation=[0,0,0],this.matrix=i.identity(i.create()),this.invMatrix=i.identity(i.create()),this.forward=i.identity(i.create()),this.up=i.identity(i.create()),this.right=i.identity(i.create())}updateMatrix(){return i.identity(this.matrix),i.translate(this.matrix,this.position,this.matrix),i.rotate(this.matrix,this.rotation[0]*a.deg2Rad,[1,0,0],this.matrix),i.rotate(this.matrix,this.rotation[1]*a.deg2Rad,[0,1,0],this.matrix),i.rotate(this.matrix,this.rotation[2]*a.deg2Rad,[0,0,1],this.matrix),i.scale(this.matrix,this.scale,this.matrix),i.inverse(this.matrix,this.invMatrix),i.translate(this.matrix,[0,0,1],this.forward),i.translate(this.matrix,[0,1,0],this.up),i.translate(this.matrix,[1,0,0],this.right),this.matrix}updateDirection(){return i.translate(this.matrix,[0,0,1],this.forward),i.translate(this.matrix,[0,1,0],this.up),i.translate(this.matrix,[1,0,0],this.right),this}getMatrix(){return this.matrix}getInvMatrix(){return this.invMatrix}reset(){this.position=[0,0,0],this.scale=[1,1,1],this.rotation=[0,0,0]}}r.default=a,a.deg2Rad=Math.PI/180},560:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=t=>{const r=t,e=(t,e)=>{const i=r.createShader(e);return r.shaderSource(i,t),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS)?i:(console.error(r.getShaderInfoLog(i)),void r.deleteShader(i))};return{createProgramShader:(t,i)=>((t,e)=>{const i=r.createProgram();return r.attachShader(i,t),r.attachShader(i,e),r.linkProgram(i),r.getProgramParameter(i,r.LINK_STATUS)?(r.detachShader(i,t),r.detachShader(i,e),r.deleteShader(t),r.deleteShader(e),i):(console.error(r.getProgramInfoLog(i)),void r.deleteProgram(i))})(e(t,r.VERTEX_SHADER),e(i,r.FRAGMENT_SHADER)),createVAO:(t,e)=>{let i,a,s;return i=r.createVertexArray(),r.bindVertexArray(i),t&&(a=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,a),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),r.enableVertexAttribArray(0),r.vertexAttribPointer(0,3,r.FLOAT,!1,0,0),a=null),e&&(s=r.createBuffer(),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,s),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),r.STATIC_DRAW)),r.bindVertexArray(null),i},getStandardAttLocations:t=>({position:r.getAttribLocation(t,"position")}),getStandardUniLocations:t=>({mMatrix:r.getUniformLocation(t,"mMatrix"),vMatrix:r.getUniformLocation(t,"vMatrix"),pMatrix:r.getUniformLocation(t,"pMatrix"),invMatrix:r.getUniformLocation(t,"invMatrix"),lightDirection:r.getUniformLocation(t,"lightDirection")})}}},458:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.qtnIV=r.matIV=void 0,r.matIV=class{constructor(){this.scale=function(t,r,e){return e[0]=t[0]*r[0],e[1]=t[1]*r[0],e[2]=t[2]*r[0],e[3]=t[3]*r[0],e[4]=t[4]*r[1],e[5]=t[5]*r[1],e[6]=t[6]*r[1],e[7]=t[7]*r[1],e[8]=t[8]*r[2],e[9]=t[9]*r[2],e[10]=t[10]*r[2],e[11]=t[11]*r[2],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}}create(){return new Float32Array(16)}identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}multiply(t,r,e){var i=t[0],a=t[1],s=t[2],n=t[3],o=t[4],h=t[5],m=t[6],d=t[7],l=t[8],u=t[9],c=t[10],f=t[11],p=t[12],v=t[13],x=t[14],g=t[15],M=r[0],R=r[1],y=r[2],A=r[3],E=r[4],_=r[5],S=r[6],L=r[7],b=r[8],P=r[9],w=r[10],I=r[11],O=r[12],F=r[13],T=r[14],U=r[15];return e[0]=M*i+R*o+y*l+A*p,e[1]=M*a+R*h+y*u+A*v,e[2]=M*s+R*m+y*c+A*x,e[3]=M*n+R*d+y*f+A*g,e[4]=E*i+_*o+S*l+L*p,e[5]=E*a+_*h+S*u+L*v,e[6]=E*s+_*m+S*c+L*x,e[7]=E*n+_*d+S*f+L*g,e[8]=b*i+P*o+w*l+I*p,e[9]=b*a+P*h+w*u+I*v,e[10]=b*s+P*m+w*c+I*x,e[11]=b*n+P*d+w*f+I*g,e[12]=O*i+F*o+T*l+U*p,e[13]=O*a+F*h+T*u+U*v,e[14]=O*s+F*m+T*c+U*x,e[15]=O*n+F*d+T*f+U*g,e}translate(t,r,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[0]*r[0]+t[4]*r[1]+t[8]*r[2]+t[12],e[13]=t[1]*r[0]+t[5]*r[1]+t[9]*r[2]+t[13],e[14]=t[2]*r[0]+t[6]*r[1]+t[10]*r[2]+t[14],e[15]=t[3]*r[0]+t[7]*r[1]+t[11]*r[2]+t[15],e}rotate(t,r,e,i){var a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);if(!a)return null;var s=e[0],n=e[1],o=e[2];1!=a&&(s*=a=1/a,n*=a,o*=a);var h=Math.sin(r),m=Math.cos(r),d=1-m,l=t[0],u=t[1],c=t[2],f=t[3],p=t[4],v=t[5],x=t[6],g=t[7],M=t[8],R=t[9],y=t[10],A=t[11],E=s*s*d+m,_=n*s*d+o*h,S=o*s*d-n*h,L=s*n*d-o*h,b=n*n*d+m,P=o*n*d+s*h,w=s*o*d+n*h,I=n*o*d-s*h,O=o*o*d+m;return r?t!=i&&(i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15]):i=t,i[0]=l*E+p*_+M*S,i[1]=u*E+v*_+R*S,i[2]=c*E+x*_+y*S,i[3]=f*E+g*_+A*S,i[4]=l*L+p*b+M*P,i[5]=u*L+v*b+R*P,i[6]=c*L+x*b+y*P,i[7]=f*L+g*b+A*P,i[8]=l*w+p*I+M*O,i[9]=u*w+v*I+R*O,i[10]=c*w+x*I+y*O,i[11]=f*w+g*I+A*O,i}lookAt(t,r,e,i){var a,s,n,o,h,m,d,l,u,c,f=t[0],p=t[1],v=t[2],x=e[0],g=e[1],M=e[2],R=r[0],y=r[1],A=r[2];return f==R&&p==y&&v==A?this.identity(i):(d=f-r[0],l=p-r[1],u=v-r[2],a=g*(u*=c=1/Math.sqrt(d*d+l*l+u*u))-M*(l*=c),s=M*(d*=c)-x*u,n=x*l-g*d,(c=Math.sqrt(a*a+s*s+n*n))?(a*=c=1/c,s*=c,n*=c):(a=0,s=0,n=0),o=l*n-u*s,h=u*a-d*n,m=d*s-l*a,(c=Math.sqrt(o*o+h*h+m*m))?(o*=c=1/c,h*=c,m*=c):(o=0,h=0,m=0),i[0]=a,i[1]=o,i[2]=d,i[3]=0,i[4]=s,i[5]=h,i[6]=l,i[7]=0,i[8]=n,i[9]=m,i[10]=u,i[11]=0,i[12]=-(a*f+s*p+n*v),i[13]=-(o*f+h*p+m*v),i[14]=-(d*f+l*p+u*v),i[15]=1,i)}perspective(t,r,e,i,a){var s=e*Math.tan(t*Math.PI/360),n=s*r*2,o=2*s,h=i-e;return a[0]=2*e/n,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*e/o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-(i+e)/h,a[11]=-1,a[12]=0,a[13]=0,a[14]=-i*e*2/h,a[15]=0,a}ortho(t,r,e,i,a,s,n){var o=r-t,h=e-i,m=s-a;return n[0]=2/o,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2/h,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=-2/m,n[11]=0,n[12]=-(t+r)/o,n[13]=-(e+i)/h,n[14]=-(s+a)/m,n[15]=1,n}transpose(t,r){return r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15],r}inverse(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],n=t[4],o=t[5],h=t[6],m=t[7],d=t[8],l=t[9],u=t[10],c=t[11],f=t[12],p=t[13],v=t[14],x=t[15],g=e*o-i*n,M=e*h-a*n,R=e*m-s*n,y=i*h-a*o,A=i*m-s*o,E=a*m-s*h,_=d*p-l*f,S=d*v-u*f,L=d*x-c*f,b=l*v-u*p,P=l*x-c*p,w=u*x-c*v,I=1/(g*w-M*P+R*b+y*L-A*S+E*_);return r[0]=(o*w-h*P+m*b)*I,r[1]=(-i*w+a*P-s*b)*I,r[2]=(p*E-v*A+x*y)*I,r[3]=(-l*E+u*A-c*y)*I,r[4]=(-n*w+h*L-m*S)*I,r[5]=(e*w-a*L+s*S)*I,r[6]=(-f*E+v*R-x*M)*I,r[7]=(d*E-u*R+c*M)*I,r[8]=(n*P-o*L+m*_)*I,r[9]=(-e*P+i*L-s*_)*I,r[10]=(f*A-p*R+x*g)*I,r[11]=(-d*A+l*R-c*g)*I,r[12]=(-n*b+o*S-h*_)*I,r[13]=(e*b-i*S+a*_)*I,r[14]=(-f*y+p*M-v*g)*I,r[15]=(d*y-l*M+u*g)*I,r}},r.qtnIV=class{create(){return new Float32Array(4)}identity(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}inverse(t,r){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=t[3],r}normalize(t){var r=t[0],e=t[1],i=t[2],a=t[3],s=Math.sqrt(r*r+e*e+i*i+a*a);return 0===s?(t[0]=0,t[1]=0,t[2]=0,t[3]=0):(s=1/s,t[0]=r*s,t[1]=e*s,t[2]=i*s,t[3]=a*s),t}multiply(t,r,e){var i=t[0],a=t[1],s=t[2],n=t[3],o=r[0],h=r[1],m=r[2],d=r[3];return e[0]=i*d+n*o+a*m-s*h,e[1]=a*d+n*h+s*o-i*m,e[2]=s*d+n*m+i*h-a*o,e[3]=n*d-i*o-a*h-s*m,e}rotate(t,r,e){var i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);if(!i)return null;var a=r[0],s=r[1],n=r[2];1!=i&&(a*=i=1/i,s*=i,n*=i);var o=Math.sin(.5*t);return e[0]=a*o,e[1]=s*o,e[2]=n*o,e[3]=Math.cos(.5*t),e}toVecIII(t,r,e){var i=this.create(),a=this.create(),s=this.create();return this.inverse(r,s),i[0]=t[0],i[1]=t[1],i[2]=t[2],this.multiply(s,i,a),this.multiply(a,r,s),e[0]=s[0],e[1]=s[1],e[2]=s[2],e}toMatIV(t,r){var e=t[0],i=t[1],a=t[2],s=t[3],n=e+e,o=i+i,h=a+a,m=e*n,d=e*o,l=e*h,u=i*o,c=i*h,f=a*h,p=s*n,v=s*o,x=s*h;return r[0]=1-(u+f),r[1]=d-x,r[2]=l+v,r[3]=0,r[4]=d+x,r[5]=1-(m+f),r[6]=c-p,r[7]=0,r[8]=l-v,r[9]=c+p,r[10]=1-(m+u),r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}slerp(t,r,e,i){var a=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3],s=1-a*a;if(s<=0)i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3];else if(s=Math.sqrt(s),Math.abs(s)<1e-4)i[0]=.5*t[0]+.5*r[0],i[1]=.5*t[1]+.5*r[1],i[2]=.5*t[2]+.5*r[2],i[3]=.5*t[3]+.5*r[3];else{var n=Math.acos(a),o=n*e,h=Math.sin(n-o)/s,m=Math.sin(o)/s;i[0]=t[0]*h+r[0]*m,i[1]=t[1]*h+r[1]*m,i[2]=t[2]*h+r[2]*m,i[3]=t[3]*h+r[3]*m}return i}}}},r={};function e(i){var a=r[i];if(void 0!==a)return a.exports;var s=r[i]={exports:{}};return t[i](s,s.exports,e),s.exports}e.d=(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{var t=i;const r=e(817),a=e(225),s=e(297),n=e(453),o=e(875),h=e(854);t.default=class{constructor(t){this.gl=t,this.shaders=[]}shader(){return new s.Shader(this.gl,o.default,h.default)}model(t,r){const e=new n.default(t,this.gl),i=this.shaders.indexOf(r);return-1==i?(this.shaders.push(r),e.setShader(this.shaders.length-1)):e.setShader(i),e}camera(){const t=new a.Camera(this.gl);return new a.CameraController(this.gl,t),t.transform.position=[0,0,5],t}render(t,e){return this.gl.enable(this.gl.DEPTH_TEST),this.gl.depthFunc(this.gl.LEQUAL),this.gl.enable(this.gl.CULL_FACE),this.shaders[t.shaderIdx].activate().setPmatrix(e.pMatrix).deactivate(),new r.default((()=>{this.gl.clearColor(.3,.3,.3,1),this.gl.clearDepth(1),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),e.updateViewMatrix(),this.shaders[t.shaderIdx].activate().setVmatrix(e.vMatrix).renderModel(t.preRender())}),30)}}})(),i.default})()));